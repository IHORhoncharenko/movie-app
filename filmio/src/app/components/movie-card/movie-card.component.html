<p-card class="card" [header]="movieData.title" [subheader]="movieData.year">
  <ng-template pTemplate="header">
    <img
      (click)="openMovieCard()"
      fetchpriority="high"
      decoding="async"
      alt="movieData.title"
      [src]="movieData.poster"
    />
  </ng-template>

  <div class="card__rating rating">
    <p-rating
      (mouseleave)="mouseover()"
      (mouseenter)="mouseenter()"
      stars="5"
      [(ngModel)]="value"
      [readonly]="true"
      [cancel]="false"
    />
    @if (isShowrating) {
      <p-badge class="rating__badge" [value]="movieData.rating" />
    }
  </div>

  <ng-template pTemplate="footer">
    <div class="card__action">
      <p-button (click)="showDialog()" label="Show detailse" />

      <p-dialog
        (mouseenter)="showLink()"
        (mouseleave)="hideLink()"
        (click)="openMovieCard()"
        [header]="movieData.title"
        [modal]="true"
        [(visible)]="visible"
        [style]="{ width: '50rem' }"
        [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
      >
        <p-button (click)="openMovieCard()">Go to film</p-button>
        <p class="mb-5">
          {{ movieData.director }}
        </p>
        <p class="mb-5">
          @for (actor of movieData.actors; track $index) {
            <ul>
              <li>{{ actor }}</li>
            </ul>
          }
        </p>
        <p class="mb-5">
          {{ movieData.country }}
        </p>
        <p class="mb-5">
          {{ movieData.language }}
        </p>
        <p class="mb-5">
          {{ movieData.boxOffice }}
        </p>
        <p class="mb-5">
          {{ movieData.runtime | convertingMinutesToHours }}
        </p>
      </p-dialog>
    </div>

    <div class="card__tags">
      @for (genre of movieData.genre; track $index) {
        <p-tag [value]="genre" />
      }
    </div>
  </ng-template>
</p-card>
